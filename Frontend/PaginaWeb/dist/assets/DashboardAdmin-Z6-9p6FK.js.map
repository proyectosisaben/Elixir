{"version":3,"file":"DashboardAdmin-Z6-9p6FK.js","sources":["../../src/pages/DashboardAdmin.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useRol } from \"../contexts/RolContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../styles/globals.css\";\r\nimport {\r\n  FaServer,\r\n  FaUserShield,\r\n  FaDatabase,\r\n  FaShieldAlt,\r\n  FaUsers,\r\n  FaTools,\r\n  FaChartPie,\r\n  FaLock,\r\n  FaSync,\r\n  FaExclamationTriangle,\r\n  FaBox,\r\n} from \"react-icons/fa\";\r\n\r\nfunction DashboardAdmin() {\r\n  const { usuario } = useRol();\r\n  const navigate = useNavigate();\r\n  const [stats, setStats] = useState({\r\n    totalUsuarios: 0,\r\n    totalClientes: 0,\r\n    totalVendedores: 0,\r\n    totalGerentes: 0,\r\n    totalAdmin: 0,\r\n    totalPedidos: 0,\r\n    ventasTotales: 0,\r\n  });\r\n  const [usuarios, setUsuarios] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Verificar que el usuario sea admin\r\n    if (usuario && usuario.rol !== \"admin_sistema\") {\r\n      navigate(\"/dashboard-admin\");\r\n      return;\r\n    }\r\n    cargarDatos();\r\n    \r\n    // Recargar datos cada 30 segundos para actualizar ventas en tiempo real\r\n    const intervalo = setInterval(cargarDatos, 30000);\r\n    \r\n    return () => clearInterval(intervalo);\r\n  }, [usuario, navigate]);\r\n\r\n  const cargarDatos = async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      // Obtener token para autenticación\r\n      const token = localStorage.getItem('token');\r\n      const headers = token ? { Authorization: `Token ${token}` } : {};\r\n\r\n      // Obtener estadísticas del dashboard admin (endpoint específico)\r\n      const statsResponse = await fetch(\"http://localhost:8000/api/dashboard-admin/estadisticas/\", {\r\n        headers: headers,\r\n        credentials: 'include'\r\n      });\r\n\r\n      if (statsResponse.ok) {\r\n        const statsData = await statsResponse.json();\r\n        if (statsData.success && statsData.estadisticas) {\r\n          const est = statsData.estadisticas;\r\n          setStats({\r\n            totalUsuarios: est.usuarios.total,\r\n            totalClientes: est.usuarios.por_rol.cliente,\r\n            totalVendedores: est.usuarios.por_rol.vendedor,\r\n            totalGerentes: est.usuarios.por_rol.gerente,\r\n            totalAdmin: est.usuarios.por_rol.admin_sistema,\r\n            totalPedidos: est.ventas.total_pedidos,\r\n            ventasTotales: est.ventas.total_ventas,\r\n          });\r\n        }\r\n      } else {\r\n        console.log('Error en respuesta de estadísticas:', statsResponse.status);\r\n        // Fallback: obtener datos básicos\r\n        await cargarDatosFallback();\r\n      }\r\n\r\n      // Obtener lista de clientes para gestión de roles\r\n      const clientesResponse = await fetch(\"http://localhost:8000/api/listar-clientes/\", {\r\n        headers: headers,\r\n        credentials: 'include'\r\n      });\r\n      const clientesData = clientesResponse.ok ? await clientesResponse.json() : null;\r\n\r\n      if (clientesData && clientesData.clientes) {\r\n        setUsuarios(clientesData.clientes);\r\n      }\r\n\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error(\"Error cargando datos:\", err);\r\n      setError(\"Error al cargar datos del sistema\");\r\n      // Intentar fallback\r\n      await cargarDatosFallback();\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Método fallback para obtener datos básicos si falla el endpoint principal\r\n  const cargarDatosFallback = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const headers = token ? { Authorization: `Token ${token}` } : {};\r\n\r\n      // Obtener lista de clientes\r\n      const clientesResponse = await fetch(\"http://localhost:8000/api/listar-clientes/\", {\r\n        headers: headers,\r\n        credentials: 'include'\r\n      });\r\n      const clientesData = clientesResponse.ok ? await clientesResponse.json() : null;\r\n\r\n      if (clientesData && clientesData.clientes) {\r\n        const listaUsuarios = clientesData.clientes;\r\n        setUsuarios(listaUsuarios);\r\n\r\n        // Contar usuarios por rol\r\n        const conteos = {\r\n          cliente: 0,\r\n          vendedor: 0,\r\n          gerente: 0,\r\n          admin_sistema: 0,\r\n        };\r\n\r\n        listaUsuarios.forEach(u => {\r\n          const rol = u.rol || 'cliente';\r\n          if (conteos.hasOwnProperty(rol)) {\r\n            conteos[rol]++;\r\n          }\r\n        });\r\n\r\n        // Obtener ventas si tenemos usuario\r\n        let ventasTotales = 0;\r\n        let totalPedidos = 0;\r\n\r\n        if (usuario?.id) {\r\n          try {\r\n            const ventasResponse = await fetch(`http://localhost:8000/api/ventas-totales/?usuario_id=${usuario.id}`, {\r\n              headers: headers,\r\n              credentials: 'include'\r\n            });\r\n            if (ventasResponse.ok) {\r\n              const ventasData = await ventasResponse.json();\r\n              if (ventasData.success && ventasData.ventas) {\r\n                ventasTotales = ventasData.ventas.total_ventas || 0;\r\n                totalPedidos = ventasData.ventas.total_pedidos || 0;\r\n              }\r\n            }\r\n          } catch (err) {\r\n            console.log('Error cargando ventas totales:', err);\r\n          }\r\n        }\r\n\r\n        setStats({\r\n          totalUsuarios: listaUsuarios.length,\r\n          totalClientes: conteos.cliente,\r\n          totalVendedores: conteos.vendedor,\r\n          totalGerentes: conteos.gerente,\r\n          totalAdmin: conteos.admin_sistema,\r\n          totalPedidos: totalPedidos,\r\n          ventasTotales: ventasTotales,\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error en fallback:\", err);\r\n    }\r\n  };\r\n\r\n  const handleBackup = async () => {\r\n    if (window.confirm(\"¿Estás seguro de que deseas hacer un backup de la base de datos?\\n\\nEsto puede tomar algunos minutos.\")) {\r\n      try {\r\n        const response = await fetch(\"http://localhost:8000/api/backup-sistema/\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" }\r\n        });\r\n        \r\n        const data = await response.json();\r\n        \r\n        if (response.ok) {\r\n          alert(\"✓ Backup realizado exitosamente\\n\\nArchivo guardado en el servidor\");\r\n        } else {\r\n          alert(`Error: ${data.message || 'No se pudo completar el backup'}`);\r\n        }\r\n      } catch (err) {\r\n        alert(`Error al hacer backup: ${err.message}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSeguridad = () => {\r\n    const mensaje = `\r\nCONFIGURACIÓN DE SEGURIDAD DEL SISTEMA\r\n\r\nEstado actual:\r\n✓ Autenticación habilitada\r\n✓ Conexión HTTPS (en producción)\r\n✓ Validación de permisos activa\r\n✓ Logs de sistema registrados\r\n\r\nOpciones disponibles:\r\n1. Ver logs de seguridad\r\n2. Gestionar sesiones activas\r\n3. Configurar 2FA\r\n4. Auditoría de acceso\r\n\r\nSelecciona una opción o cancela.\r\n    `.trim();\r\n    \r\n    const opcion = prompt(mensaje);\r\n    if (opcion === \"1\") {\r\n      alert(\"Función de logs disponible en próximas actualizaciones\");\r\n    } else if (opcion === \"2\") {\r\n      alert(\"Hay 1 sesión activa del administrador actual\");\r\n    } else if (opcion === \"3\") {\r\n      alert(\"2FA disponible en próximas actualizaciones\");\r\n    } else if (opcion === \"4\") {\r\n      alert(\"Auditoría disponible en próximas actualizaciones\");\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"dashboard-admin-container\">\r\n        <div className=\"loading\">\r\n          <p>Cargando panel de administración...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"dashboard-admin-container\">\r\n        <div className=\"alertas-section\">\r\n          <h2><FaExclamationTriangle /> Error</h2>\r\n          <p>{error}</p>\r\n          <button onClick={cargarDatos} className=\"btn btn-primary\">Reintentar</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard-admin-container\">\r\n      {/* Header */}\r\n      <div className=\"gerente-header\">\r\n        <div className=\"gerente-header-content\">\r\n          <div className=\"gerente-welcome\">\r\n            <FaUserShield className=\"header-icon\" />\r\n            <div>\r\n              <h1>Panel de Administrador del Sistema</h1>\r\n              <p>Control total del sistema, usuarios, ventas y base de datos</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"gerente-main-container\">\r\n        {/* Metricas Principales */}\r\n        <div className=\"metricas-grid\">\r\n          <div className=\"metrica-card ventas-totales\">\r\n            <div className=\"metrica-header\">\r\n              <h3>Usuarios Totales</h3>\r\n              <FaUsers className=\"metrica-icon\" />\r\n            </div>\r\n            <p className=\"metrica-valor\">{stats.totalUsuarios}</p>\r\n            <p className=\"metrica-periodo\">Registrados en el sistema</p>\r\n            <div className=\"metrica-bar\">\r\n              <div className=\"bar-fill\" style={{ width: \"85%\", transition: \"width 0.8s ease\" }}></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"metrica-card productos-total\">\r\n            <div className=\"metrica-header\">\r\n              <h3>Pedidos Totales</h3>\r\n              <FaChartPie className=\"metrica-icon\" />\r\n            </div>\r\n            <p className=\"metrica-valor\">{stats.totalPedidos}</p>\r\n            <p className=\"metrica-periodo\">Órdenes procesadas</p>\r\n            <div className=\"metrica-bar\">\r\n              <div className=\"bar-fill\" style={{ width: \"60%\", transition: \"width 0.8s ease\" }}></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"metrica-card clientes\">\r\n            <div className=\"metrica-header\">\r\n              <h3>Ventas Totales</h3>\r\n              <FaDatabase className=\"metrica-icon\" />\r\n            </div>\r\n            <p className=\"metrica-valor\">${stats.ventasTotales.toLocaleString('es-CL')}</p>\r\n            <p className=\"metrica-periodo\">Ingresos acumulados</p>\r\n            <div className=\"metrica-bar\">\r\n              <div className=\"bar-fill\" style={{ width: \"45%\", transition: \"width 0.8s ease\" }}></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"metrica-card margen\">\r\n            <div className=\"metrica-header\">\r\n              <h3>Estado Sistema</h3>\r\n              <FaServer className=\"metrica-icon\" />\r\n            </div>\r\n            <p className=\"metrica-valor\">✓ Online</p>\r\n            <p className=\"metrica-periodo\">Funcionando normalmente</p>\r\n            <div className=\"metrica-bar\">\r\n              <div className=\"bar-fill\" style={{ width: \"100%\", transition: \"width 0.8s ease\" }}></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Distribución de Roles */}\r\n        <div className=\"productos-section\">\r\n          <h2>\r\n            <FaUserShield /> Distribución de Usuarios por Rol\r\n          </h2>\r\n          <div className=\"productos-table\">\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Rol</th>\r\n                  <th>Cantidad</th>\r\n                  <th>Porcentaje</th>\r\n                  <th>Estado</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td><strong>Clientes</strong></td>\r\n                  <td>{stats.totalClientes}</td>\r\n                  <td>{stats.totalUsuarios > 0 ? ((stats.totalClientes / stats.totalUsuarios) * 100).toFixed(1) : 0}%</td>\r\n                  <td><span style={{ background: 'rgba(72, 187, 120, 0.1)', color: 'var(--success-color)', padding: '4px 8px', borderRadius: '4px', fontWeight: 'bold' }}>Activo</span></td>\r\n                </tr>\r\n                <tr>\r\n                  <td><strong>Vendedores</strong></td>\r\n                  <td>{stats.totalVendedores}</td>\r\n                  <td>{stats.totalUsuarios > 0 ? ((stats.totalVendedores / stats.totalUsuarios) * 100).toFixed(1) : 0}%</td>\r\n                  <td><span style={{ background: 'rgba(72, 187, 120, 0.1)', color: 'var(--success-color)', padding: '4px 8px', borderRadius: '4px', fontWeight: 'bold' }}>Activo</span></td>\r\n                </tr>\r\n                <tr>\r\n                  <td><strong>Gerentes</strong></td>\r\n                  <td>{stats.totalGerentes}</td>\r\n                  <td>{stats.totalUsuarios > 0 ? ((stats.totalGerentes / stats.totalUsuarios) * 100).toFixed(1) : 0}%</td>\r\n                  <td><span style={{ background: 'rgba(72, 187, 120, 0.1)', color: 'var(--success-color)', padding: '4px 8px', borderRadius: '4px', fontWeight: 'bold' }}>Activo</span></td>\r\n                </tr>\r\n                <tr>\r\n                  <td><strong>Administradores</strong></td>\r\n                  <td>{stats.totalAdmin}</td>\r\n                  <td>{stats.totalUsuarios > 0 ? ((stats.totalAdmin / stats.totalUsuarios) * 100).toFixed(1) : 0}%</td>\r\n                  <td><span style={{ background: 'rgba(245, 101, 101, 0.1)', color: 'var(--danger-color)', padding: '4px 8px', borderRadius: '4px', fontWeight: 'bold' }}>Crítico</span></td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Botones de Administración */}\r\n        <div className=\"productos-section\">\r\n          <h2>\r\n            <FaTools /> Herramientas Administrativas\r\n          </h2>\r\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px' }}>\r\n            <button \r\n              onClick={() => navigate('/admin/roles')}\r\n              style={{\r\n                padding: '20px',\r\n                borderRadius: '10px',\r\n                border: 'none',\r\n                background: 'var(--primary-color)',\r\n                color: 'white',\r\n                fontWeight: 'bold',\r\n                cursor: 'pointer',\r\n                transition: 'all 0.3s ease',\r\n              }}\r\n              onMouseEnter={(e) => e.target.style.transform = 'translateY(-3px)'}\r\n              onMouseLeave={(e) => e.target.style.transform = 'translateY(0)'}\r\n            >\r\n              <FaLock style={{ marginRight: '10px' }} />\r\n              Gestionar Roles\r\n            </button>\r\n            <button \r\n              onClick={() => navigate('/dashboard-vendedor')}\r\n              style={{\r\n                padding: '20px',\r\n                borderRadius: '10px',\r\n                border: 'none',\r\n                background: '#2ecc71',\r\n                color: 'white',\r\n                fontWeight: 'bold',\r\n                cursor: 'pointer',\r\n                transition: 'all 0.3s ease',\r\n              }}\r\n              onMouseEnter={(e) => e.target.style.transform = 'translateY(-3px)'}\r\n              onMouseLeave={(e) => e.target.style.transform = 'translateY(0)'}\r\n            >\r\n              <FaBox style={{ marginRight: '10px' }} />\r\n              Crear Bebida\r\n            </button>\r\n            <button \r\n              onClick={cargarDatos}\r\n              style={{\r\n                padding: '20px',\r\n                borderRadius: '10px',\r\n                border: 'none',\r\n                background: 'var(--success-color)',\r\n                color: 'white',\r\n                fontWeight: 'bold',\r\n                cursor: 'pointer',\r\n                transition: 'all 0.3s ease',\r\n              }}\r\n              onMouseEnter={(e) => e.target.style.transform = 'translateY(-3px)'}\r\n              onMouseLeave={(e) => e.target.style.transform = 'translateY(0)'}\r\n            >\r\n              <FaSync style={{ marginRight: '10px' }} />\r\n              Recargar Datos\r\n            </button>\r\n            <button \r\n              onClick={handleBackup}\r\n              style={{\r\n                padding: '20px',\r\n                borderRadius: '10px',\r\n                border: 'none',\r\n                background: 'var(--warning-color)',\r\n                color: 'white',\r\n                fontWeight: 'bold',\r\n                cursor: 'pointer',\r\n                transition: 'all 0.3s ease',\r\n              }}\r\n              onMouseEnter={(e) => e.target.style.transform = 'translateY(-3px)'}\r\n              onMouseLeave={(e) => e.target.style.transform = 'translateY(0)'}\r\n            >\r\n              <FaDatabase style={{ marginRight: '10px' }} />\r\n              Backup Sistema\r\n            </button>\r\n            <button \r\n              onClick={handleSeguridad}\r\n              style={{\r\n                padding: '20px',\r\n                borderRadius: '10px',\r\n                border: 'none',\r\n                background: 'var(--secondary-color)',\r\n                color: 'white',\r\n                fontWeight: 'bold',\r\n                cursor: 'pointer',\r\n                transition: 'all 0.3s ease',\r\n              }}\r\n              onMouseEnter={(e) => e.target.style.transform = 'translateY(-3px)'}\r\n              onMouseLeave={(e) => e.target.style.transform = 'translateY(0)'}\r\n            >\r\n              <FaShieldAlt style={{ marginRight: '10px' }} />\r\n              Seguridad\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DashboardAdmin;\r\n"],"names":["DashboardAdmin","usuario","useRol","navigate","useNavigate","stats","setStats","useState","usuarios","setUsuarios","loading","setLoading","error","setError","useEffect","cargarDatos","intervalo","token","headers","statsResponse","statsData","est","cargarDatosFallback","clientesResponse","clientesData","err","listaUsuarios","conteos","u","rol","ventasTotales","totalPedidos","ventasResponse","ventasData","handleBackup","response","data","handleSeguridad","mensaje","opcion","jsx","jsxs","FaExclamationTriangle","FaUserShield","FaUsers","FaChartPie","FaDatabase","FaServer","FaTools","e","FaLock","FaBox","FaSync","FaShieldAlt"],"mappings":"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"}